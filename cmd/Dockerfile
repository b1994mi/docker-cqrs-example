FROM golang:1.18-alpine

RUN export GO111MODULE=on
ENV APP_NAME cmd
ENV CMD_PATH main.go
COPY ./cmd $GOPATH/src/$APP_NAME
WORKDIR $GOPATH/src/$APP_NAME

RUN go build

EXPOSE 5000
CMD ./$APP_NAME